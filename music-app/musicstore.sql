CREATE DATABASE MUSICSTORE;

CREATE TABLE USER (
  user_id INTEGER NOT NULL AUTO_INCREMENT,
  name_user VARCHAR(255),
  PRIMARY KEY (user_id)
);

CREATE TABLE PRODUCT_TYPE (
	product_type_id INTEGER NOT NULL,
	description VARCHAR(255),
	PRIMARY KEY(product_type_id)
);

CREATE TABLE GENRE(
	genre_id INTEGER NOT NULL AUTO_INCREMENT,
	genre VARCHAR(255),
	PRIMARY KEY(genre_id)
);

CREATE TABLE PRODUCT (
	product_id INTEGER NOT NULL AUTO_INCREMENT,
	product_type_id INTEGER NOT NULL,
	genre_id INTEGER,
	price DECIMAL(6,2),
	PRIMARY KEY (product_id),
	FOREIGN KEY (product_type_id) REFERENCES PRODUCT_TYPE(product_type_id),
	FOREIGN KEY (genre_id) REFERENCES GENRE(genre_id)
);

CREATE TABLE ORDERS (
	 order_id INTEGER NOT NULL,
	 user_id INTEGER NOT NULL,
	 total_price DECIMAL(6,2),
	 discount_percentage DECIMAL(2,2),
	 sale_date DATETIME,
	 status VARCHAR(100),
	 PRIMARY KEY(order_id, user_id),
	 FOREIGN KEY(user_id) REFERENCES USER(user_id)
);

CREATE TABLE ORDER_ITEM (
	order_item_id Integer NOT NULL,
	order_id integer NOT NULL,
	product_id Integer,
	quantity Integer,
	price DECIMAL(6,2),
	PRIMARY KEY (order_id, order_item_id),
	FOREIGN KEY (product_id) REFERENCES PRODUCT(product_id)
);

Tasks
- Update the id - place it at the end
- To represent money, use DECIMAL(6,2), because it is more accurate
- Create table GENRE and use it in PRODUCT
- Insert 5 types of products
- Insert 15 products
- Insert 3 users (Mike, Kate, Luigi)
- Luigi place 1st order with 3 product
- Luigi place 2nd order with 2 products

- Mike place 1st order with 3 product
- Mike place 2nd order with 2 products

- Kate place 1st order with 2 product
- Kate place 2nd order with 6 products
- Kate place 3rd order with 4 products
- Kate place 4th order with 1 products


--ORDER
--DATETIME 'YYYY-MM-DD hh:mm:ss'
INSERT INTO ORDER VALUES(1, 4, );
INSERT INTO ORDER VALUES(2, 4, );
INSERT INTO ORDER VALUES(3, 5, );
INSERT INTO ORDER VALUES(4, 5, );

INSERT INTO ORDER VALUES(5, 6,  );
INSERT INTO ORDER VALUES(6, 6, );
INSERT INTO ORDER VALUES(7, 6, );
INSERT INTO ORDER VALUES(8, 6, );

-- ORDER_ITEM
INSERT INTO ORDER VALUES(3.45);
INSERT INTO ORDER VALUES(399);
INSERT INTO ORDER VALUES(3.45);

INSERT INTO ORDER VALUES(106.99);
INSERT INTO ORDER VALUES(55);

INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(3.5);
INSERT INTO ORDER VALUES(199);

INSERT INTO ORDER VALUES(233.65);
INSERT INTO ORDER VALUES(306.34);

INSERT INTO ORDER VALUES(22);
INSERT INTO ORDER VALUES(86);

INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(2.99);
INSERT INTO ORDER VALUES(66);

INSERT INTO ORDER VALUES( 3.45);
INSERT INTO ORDER VALUES(4);
INSERT INTO ORDER VALUES(4);
INSERT INTO ORDER VALUES(99);

INSERT INTO ORDER VALUES(4);

-- USER
INSERT INTO USER VALUES(1, 'MiuMiu');
INSERT INTO USER VALUES(2, 'Coco');
INSERT INTO USER VALUES(3, 'Gigi');
INSERT INTO USER VALUES(4, 'Luigi');
INSERT INTO USER VALUES(5, 'Mike');
INSERT INTO USER VALUES(6, 'Kate');

-- PRODUCT_TYPE
INSERT INTO PRODUCT_TYPE VALUES(1, 'Album');
INSERT INTO PRODUCT_TYPE VALUES(2, 'Song');
INSERT INTO PRODUCT_TYPE VALUES(3, 'MemberShip VIP GOLD Yearly');
INSERT INTO PRODUCT_TYPE VALUES(4, 'MemberShip VIP GOLD Monthly');
INSERT INTO PRODUCT_TYPE VALUES(5, 'MemberShip VIP Silver Monthly');

-- PRODUCT
INSERT INTO PRODUCT VALUES(1, 1, 1, 106.99);
INSERT INTO PRODUCT VALUES(2, 1, 1, 112.45);
INSERT INTO PRODUCT VALUES(3, 1, 1, 306.34);
INSERT INTO PRODUCT VALUES(4, 1, 1, 199);
INSERT INTO PRODUCT VALUES(5, 1, 1, 233.65);

INSERT INTO PRODUCT VALUES(6, 2, 2, 2.99);
INSERT INTO PRODUCT VALUES(7, 2, 2, 3.99);
INSERT INTO PRODUCT VALUES(8, 2, 2, 3.45);
INSERT INTO PRODUCT VALUES(9, 2, 2, 2.99);
INSERT INTO PRODUCT VALUES(10, 2, 2, 4);

INSERT INTO PRODUCT VALUES(11, 3, 0, 399);
INSERT INTO PRODUCT VALUES(12, 3, 0, 399);
INSERT INTO PRODUCT VALUES(13, 3, 0, 399);
INSERT INTO PRODUCT VALUES(14, 4, 0, 99);
INSERT INTO PRODUCT VALUES(15, 5, 0, 66);

-- GENRE
INSERT INTO GENRE VALUES(1, 'JAZZ');
INSERT INTO GENRE VALUES(2, 'POP');
INSERT INTO GENRE VALUES(3, 'R&B');
INSERT INTO GENRE VALUES(4, 'CLASSICAL');
INSERT INTO GENRE VALUES(5, 'DANCE');





-- ALBUM
INSERT INTO ALBUM VALUES(1, 'I can do it with a broken heart', 'pop' , 109);
INSERT INTO ALBUM VALUES(2, 'Thank you, next', 200);
INSERT INTO ALBUM VALUES(3, 'Startboy', 103);

-- SONG
INSERT INTO SONG VALUES(1, 'I can do it with a broken heart', 3, 1);
INSERT INTO SONG VALUES(2, 'Thank you, next', 4, 2);
INSERT INTO SONG VALUES(3, 'Startboy', ,5 3);

-- ARTIST
INSERT INTO ARTIST VALUES(1, 'Taylor Swift');
INSERT INTO ARTIST VALUES(2, 'Ariana Grande');
INSERT INTO ARTIST VALUES(3, 'The Weekend');

-- ORDER
INSERT INTO ORDER VALUES(1, 'song', 0, 5);
INSERT INTO ORDER VALUES(2, 'album', 0.65, 59);
INSERT INTO ORDER VALUES(3, 'song', 0, 3, 4);


-- Drop tables
DROP TABLE USER;
DROP TABLE ALBUM;
DROP TABLE SONG;
DROP TABLE ARTIST;
DROP TABLE ORDER;